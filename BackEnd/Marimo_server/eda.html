<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="./favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" href="./assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" href="./assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" href="./assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" href="./assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" href="./apple-touch-icon.png" />
    <link rel="manifest" href="./manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>notebook.py</marimo-filename>
    <marimo-mode data-mode='read' hidden></marimo-mode>
    <marimo-version data-version='0.11.7' hidden></marimo-version>
    <marimo-user-config data-config='{"completion": {"activate_on_typing": true, "copilot": false}, "display": {"dataframes": "rich", "theme": "light", "code_editor_font_size": 14, "default_width": "medium", "cell_output": "above"}, "formatting": {"line_length": 79}, "keymap": {"preset": "default", "overrides": {}}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "on_cell_change": "autorun", "watcher_on_save": "lazy"}, "save": {"autosave": "off", "autosave_delay": 1000, "format_on_save": false}, "package_management": {"manager": "pip"}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}}' data-overrides='{}' hidden></marimo-user-config>
    <marimo-app-config data-config='{"width": "full"}' hidden></marimo-app-config>
    <marimo-server-token data-token='123' hidden></marimo-server-token>
    <title>EDA</title>
    <script type="module" crossorigin src="./assets/index-D45l02Ho.js"></script>
    <link rel="stylesheet" crossorigin href="./assets/index-DeRmdSc8.css">
  <marimo-wasm hidden=""></marimo-wasm>
    <script>
        if (window.location.protocol === 'file:') {
            alert('Warning: This file must be served by an HTTP server to function correctly.');
        }
    </script>
    
    <style>
        #save-button {
            display: none !important;
        }
        #filename-input {
            display: none !important;
        }
    </style>
    <marimo-code hidden="" data-show-code="false">import%20marimo%0A%0A__generated_with%20%3D%20%220.11.7%22%0Aapp%20%3D%20marimo.App(width%3D%22full%22)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22Author%3A%20Ashkan%20Nikfarjam%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%20%3Cspan%20style%3D%22color%3Agreen%22%3EData%20Source%3C%2Fspan%3E%0A%0A%20%20%20%20%20%20%20%20The%20Gene%20Expression%20dataset%20has%20been%20extracted%20from%20the%20%5BNCBI%20Gene%20Expression%20Omnibus%20GSEGSE62944%5D(https%3A%2F%2Fwww.ncbi.nlm.nih.gov%2Fgeo%2Fquery%2Facc.cgi%3Facc%3DGSE62944).%20The%20dataset%20consists%20of%209264%20tumor%20samples%20and%20741%20normal%20samples%20across%2024%20cancer%20types%20from%20The%20Cancer%20Genome%20Atlas.%20This%20data%20set%20is%20created%20from%20all%20the%20TCGA%20samples%20that%20have%20an%20expression%20of%2023%2C000%20genes!%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.center(mo.image(src%3D%22TCGAcancerTypes.png%22%2Ccaption%3D%22The%20Cancer%20Types%20available%20in%20TCGA%20database.%20This%20image%20is%20from%20the%20TCGA%20officcial%20website!%22%2C%20width%3D500%2C%20%20height%3D400))%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22According%20to%20%5BNCBI%5D(%22%22)%2020%20years%20after%20the%20original%20publication%20of%20the%20human%20genome%2C%20the%20number%20of%20protein-coding%20genes%20is%20stabilizing%20around%2019%2C500%20(Figure%202)%2C%20although%20the%20number%20of%20isoforms%20of%20these%20genes%20is%20still%20a%20subject%20of%20intensive%20study%20and%20discussion.%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%20%3Cspan%20style%3D%22color%3A%20green%22%3EExpression%20Collection%20Methods%3A%20%0A%0A%20%20%20%20%20%20%20%20Next-Generation%20Sequencing%20(NGS)%20is%20a%20high-throughput%20method%20for%20sequencing%20DNA%20by%20following%20a%20series%20of%20steps.%20First%2C%20in%20library%20preparation%2C%20the%20genome%20is%20fragmented%20into%20smaller%20pieces%2C%20and%20short%20adapter%20sequences%20are%20attached%20to%20both%20ends%2C%20forming%20a%20DNA%20library.%20Next%2C%20in%20bridge%20amplification%2C%20these%20fragments%20are%20hybridized%20to%20a%20solid%20surface%20and%20undergo%20multiple%20amplification%20cycles%2C%20creating%20clusters%20of%20identical%20DNA%20fragments.%20In%20sequencing%2C%20fluorescently%20labeled%20nucleotides%20are%20incorporated%20into%20the%20DNA%20strands%2C%20and%20a%20camera%20captures%20the%20emitted%20signals%20to%20determine%20the%20sequence%20of%20each%20fragment%20through%20multiple%20sequencing%20cycles.%20Finally%2C%20in%20alignment%20and%20data%20analysis%2C%20the%20short%20DNA%20reads%20are%20aligned%20to%20a%20reference%20genome%2C%20overlapping%20regions%20are%20assembled%20into%20contigs%2C%20and%20the%20final%20sequence%20is%20reconstructed.%20This%20efficient%20and%20scalable%20technique%20is%20widely%20used%20in%20genomic%20research%2C%20cancer%20studies%2C%20transcriptomics%2C%20and%20personalized%20medicine.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.image(src%3D%22NGS.png%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20In%20this%20data%20the%20gene%20expression%20is%20normalized%20using%20FPKM%20and%20TPM%20where%20value%20of%20matrix%20represent%20the%20ratio%20of%20read%20per%20killobase%20or%20million.%20%0A%0A%20%20%20%20%20%20%20%20%5C%5B%0A%20%20%20%20%20%20%20%20FPKM%20%3D%20%5Cfrac%7B%5Ctext%7BReads%20per%20gene%7D%7D%7B%5Ctext%7BGene%20length%20(kb)%7D%20%5Ctimes%20%5Ctext%7BTotal%20mapped%20reads%20(millions)%7D%7D%0A%20%20%20%20%20%20%20%20%5C%5D%0A%0A%20%20%20%20%20%20%20%20and%0A%0A%20%20%20%20%20%20%20%20%5C%5B%0A%20%20%20%20%20%20%20%20%5Ctext%7BRPK%7D%20%3D%20%5Cfrac%7B%5Ctext%7BReads%20per%20gene%7D%7D%7B%5Ctext%7BGene%20length%20(kb)%7D%7D%0A%20%20%20%20%20%20%20%20%5C%5D%0A%0A%20%20%20%20%20%20%20%20and%20finaly%20%0A%0A%20%20%20%20%20%20%20%20%5C%5B%0A%20%20%20%20%20%20%20%20TPM%20%3D%20%5Cfrac%7B%5Ctext%7BRPK%7D%7D%7B%5Csum%20%5Ctext%7BRPK%7D%7D%20%5Ctimes%2010%5E6%0A%20%20%20%20%20%20%20%20%5C%5D%0A%0A%20%20%20%20%20%20%20%20Our%20research%20sujest%20TPM%20(Transcripts%20Per%20Million)%20over%20FPKM%20(Fragments%20Per%20Kilobase%20per%20Million%20reads)%20because%20it%20ensures%20consistency%20across%20samples%20by%20normalizing%20for%20gene%20length%20before%20sequencing%20depth.%20Unlike%20FPKM%2C%20TPM%20guarantees%20that%20the%20total%20expression%20across%20all%20genes%20sums%20to%20one%20million%2C%20making%20values%20directly%20comparable%20across%20different%20datasets.%20This%20prevents%20biases%20from%20varying%20sequencing%20depths%20and%20avoids%20inflation%20of%20expression%20values%20in%20smaller%20samples.%20Additionally%2C%20TPM%20corrects%20for%20discrepancies%20in%20lowly%20expressed%20genes%20by%20proportionally%20scaling%20read%20counts%2C%20leading%20to%20more%20accurate%20cross-sample%20comparisons.%20This%20means%20this%20data%20can%20be%20used%20to%20classify%20any%20gene%20expression%20samples%20as%20long%20as%20they%20are%20within%20the%2024%20cancer%20type%20that%20this%20dataset%20represent%20including%20breast%20cancer.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%20%3Cspan%20style%3D%22color%3A%20green%22%3EData%20Files%20in%20GSE62944%0A%0A%20%20%20%20%20%20%20%20These%20are%20the%20available%20suplementory%20file%20for%20this%20geo%20dataset%20that%20we%20can%20use%20for%20labaling%20and%20creating%20our%20data%20set%20in%20csv%20format%20and%20furthermore%20creating%20Test%2FTrain%2FVal%20data%3A%20%0A%0A%20%20%20%20%20%20%20%20%7C%20Supplementary%20file%20%7C%20Discription%20%7CFile%20type%2Fresource%20%7C%0A%20%20%20%20%20%20%20%20%7C--------------------%7C------%7C--------------------%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_01_27_15_TCGA_20_420_Clinical_Variables_7706_Samples.txt.gz%20%7C%20548%20clinical%20variables%20for%20each%20sample%20are%20provided%20in%20the%20%7C%20TXT%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_01_27_15_TCGA_20_CancerType_Samples.txt.gz%20%7C%20list%20of%20mutated%20samples%20%7C%20TXT%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_06_01_15_TCGA_24_548_Clinical_Variables_9264_Samples.txt.gz%20%7C%20548%20clinical%20variables%20for%20each%20sample%20are%20provided%20in%20the%20%7C%20TXT%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_06_01_15_TCGA_24_CancerType_Samples.txt.gz%20%7C%20describes%2024%20cancers%20types%20by%20sample%20%7C%20TXT%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_06_01_15_TCGA_24_Normal_CancerType_Samples.txt.gz%20%7C%20list%20each%20sample%20normal%20samples%20respectively%20%7C%20TXT%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSE62944_RAW.tar%20%7C%205.9%20Gb%20of%20raw%20data%20%7C%20TAR%20(of%20TXT)%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%3Cspan%20style%3D%22color%3A%20brown%22%3E1.%20EDA%20for%2024%20cancer%20type%20file%3C%2Fspan%3E%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20pandas%20as%20pd%0A%20%20%20%20def%20create_supl_df(source%2C%20cancerType)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20this%20function%20creates%20data%20frame%20from%20a%20suplementart%20file%0A%20%20%20%20%20%20%20%20%20%20%20%20inout%3A%20suplementery%20file%20path%2C%20cancerType%20of%20interes%0A%20%20%20%20%20%20%20%20%20%20%20%20returns%20-%3E%20a%20data_frame%0A%0A%20%20%20%20%20%20%20%20%22%22%22%0A%0A%20%20%20%20%20%20%20%20%23read%20suplementory%20file%20%20%20%20%0A%20%20%20%20%20%20%20%20with%20open(source%2C%20'r')%20as%20file%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20data%3D%5Bline.split('%5Ct')%20for%20line%20in%20file.readlines()%5D%0A%0A%20%20%20%20%20%20%20%20data_dic%20%3D%20%7B%22Samples%22%3A%5B%5D%2C%20%22CancerType%22%3A%5B%5D%7D%0A%20%20%20%20%20%20%20%20for%20line%20in%20data%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20data_dic%5B'Samples'%5D.append(line%5B0%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20data_dic%5B'CancerType'%5D.append(line%5B1%5D)%0A%20%20%20%20%20%20%20%20cancer_type_df%20%3D%20pd.DataFrame(data_dic)%0A%20%20%20%20%20%20%20%20cancer_type_df%5B'CancerType'%5D%3Dcancer_type_df%5B'CancerType'%5D.str.strip()%0A%20%20%20%20%20%20%20%20cType_count%20%3D%20cancer_type_df.CancerType.value_counts()%0A%20%20%20%20%20%20%20%20cancer_type_df%20%3D%20cancer_type_df%5Bcancer_type_df%5B'CancerType'%5D%3D%3DcancerType%5D%0A%20%20%20%20%20%20%20%20return%20cancer_type_df%2C%20data%2C%20cType_count%0A%20%20%20%20return%20create_supl_df%2C%20pd%0A%0A%0A%40app.cell%0Adef%20_(create_supl_df)%3A%0A%20%20%20%20cancerBRCA_type_df%2C%20data%2C%20cType_count%3D%20create_supl_df('..%2F..%2Fdata%2FSuplementoryFiles%2FTCGA_24_CancerType_Samples.txt'%2C%20'BRCA')%0A%0A%20%20%20%20cancer_descriptions_list%20%3D%20%5B%0A%20%20%20%20%20%20%20%20%22Breast%20Cancer%20-%20A%20malignant%20tumor%20that%20develops%20from%20breast%20cells.%22%2C%0A%20%20%20%20%20%20%20%20%22Uterine%20Corpus%20Endometrial%20Carcinoma%20-%20A%20cancer%20originating%20in%20the%20lining%20of%20the%20uterus.%22%2C%0A%20%20%20%20%20%20%20%20%22Kidney%20Renal%20Clear%20Cell%20Carcinoma%20-%20A%20common%20kidney%20cancer%20originating%20in%20renal%20tubules.%22%2C%0A%20%20%20%20%20%20%20%20%22Lung%20Adenocarcinoma%20-%20A%20non-small%20cell%20lung%20cancer%20starting%20in%20mucus-secreting%20glands.%22%2C%0A%20%20%20%20%20%20%20%20%22Lower-Grade%20Glioma%20-%20A%20slow-growing%20brain%20tumor%20arising%20from%20glial%20cells.%22%2C%0A%20%20%20%20%20%20%20%20%22Thyroid%20Carcinoma%20-%20A%20cancer%20that%20develops%20in%20the%20thyroid%20gland.%22%2C%0A%20%20%20%20%20%20%20%20%22Head%20and%20Neck%20Squamous%20Cell%20Carcinoma%20-%20A%20cancer%20originating%20in%20the%20mucosal%20linings%20of%20the%20head%20and%20neck.%22%2C%0A%20%20%20%20%20%20%20%20%22Prostate%20Adenocarcinoma%20-%20A%20cancer%20that%20forms%20in%20the%20prostate%20gland.%22%2C%0A%20%20%20%20%20%20%20%20%22Lung%20Squamous%20Cell%20Carcinoma%20-%20A%20type%20of%20lung%20cancer%20arising%20from%20squamous%20cells%20lining%20the%20airways.%22%2C%0A%20%20%20%20%20%20%20%20%22Colon%20Adenocarcinoma%20-%20A%20common%20type%20of%20colorectal%20cancer%20originating%20in%20glandular%20cells.%22%2C%0A%20%20%20%20%20%20%20%20%22Skin%20Cutaneous%20Melanoma%20-%20A%20dangerous%20type%20of%20skin%20cancer%20that%20develops%20from%20melanocytes.%22%2C%0A%20%20%20%20%20%20%20%20%22Ovarian%20Serous%20Cystadenocarcinoma%20-%20A%20type%20of%20ovarian%20cancer%20developing%20in%20the%20epithelial%20cells%20of%20the%20ovary.%22%2C%0A%20%20%20%20%20%20%20%20%22Stomach%20Adenocarcinoma%20-%20A%20malignant%20tumor%20forming%20in%20the%20stomach%20lining.%22%2C%0A%20%20%20%20%20%20%20%20%22Bladder%20Urothelial%20Carcinoma%20-%20A%20cancer%20that%20arises%20from%20the%20bladder%20lining.%22%2C%0A%20%20%20%20%20%20%20%20%22Liver%20Hepatocellular%20Carcinoma%20-%20The%20most%20common%20type%20of%20liver%20cancer%2C%20often%20linked%20to%20hepatitis%20or%20cirrhosis.%22%2C%0A%20%20%20%20%20%20%20%20%22Cervical%20Squamous%20Cell%20Carcinoma%20and%20Endocervical%20Adenocarcinoma%20-%20A%20cancer%20arising%20from%20the%20cervix.%22%2C%0A%20%20%20%20%20%20%20%20%22Kidney%20Renal%20Papillary%20Cell%20Carcinoma%22%2C%0A%20%20%20%20%20%20%20%20%22Acute%20Myeloid%20Leukemia%22%2C%0A%20%20%20%20%20%20%20%20%22Glioblastoma%20Multiforme%20-%20An%20aggressive%20brain%20tumor%20arising%20from%20glial%20cells.%22%2C%0A%20%20%20%20%20%20%20%20%22Rectum%20Adenocarcinoma%20-%20A%20form%20of%20colorectal%20cancer%20affecting%20the%20rectum.%22%2C%0A%20%20%20%20%20%20%20%20%22Adrenocortical%20Carcinoma%20-%20A%20rare%20cancer%20that%20originates%20in%20the%20adrenal%20cortex.%22%2C%0A%20%20%20%20%20%20%20%20%22Kidney%20Chromophobe%22%2C%0A%20%20%20%20%20%20%20%20%22Uterine%20Carcinosarcoma%22%2C%0A%20%20%20%20%20%20%20%20%22Genomic%20Variation%20in%20Diffuse%20Large%20B%20Cell%20Lymphomas%22%0A%20%20%20%20%5D%0A%20%20%20%20cType_count%3DcType_count.to_frame()%0A%20%20%20%20cType_count%5B'Description'%5D%20%3D%20cancer_descriptions_list%0A%20%20%20%20return%20cType_count%2C%20cancerBRCA_type_df%2C%20cancer_descriptions_list%2C%20data%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22*%20These%20are%20the%20unique%20cancer%20types%20in%20dataset%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(cType_count%2C%20mo)%3A%0A%20%20%20%20mo.ui.table(cType_count)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22color%3A%20brown%22%3E%202.%20the%20Normal_CancerType_Samples%3C%2Fspam%3E%0A%0A%20%20%20%20%20%20%20%20This%20text%20file%20list%20each%20normal%20samples%20respectively!%20lets%20take%20a%20look%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(create_supl_df)%3A%0A%20%20%20%20Normal_Sample_gene%2C_%2C_%20%3D%20create_supl_df('..%2F..%2Fdata%2FSuplementoryFiles%2FTCGA_Normal_CancerType_Samples%20.txt'%2C'BRCA')%0A%20%20%20%20Normal_Sample_gene%0A%20%20%20%20return%20(Normal_Sample_gene%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22As%20we%20can%20see%20there%20are%20113%20normal%20cancer%20samples%20where%20i%20moght%20do%20%5B%2560%2C%20%2520%2C%20%2520%5D%20distribution%20for%20train%20test%20and%20val%20datasets%20witch%20would%20be%20%5B67%2C%2023%2C%2023%5D%20samples%20for%20healthy%20dataset!%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22color%3A%20brown%22%3E%203.%20the%20Malignant_CancerType_Samples%3C%2Fspam%3E%0A%0A%20%20%20%20%20%20%20%20list%20of%20mutated%20samples!%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(create_supl_df)%3A%0A%20%20%20%20melignent_df%2C%20_%2C%20_%3Dcreate_supl_df('..%2F..%2Fdata%2FSuplementoryFiles%2FTCGA_20_CancerType_Samples.txt'%2C%20'BRCA')%0A%20%20%20%20melignent_df%0A%20%20%20%20return%20(melignent_df%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%20%3Cspan%20style%3D'color%3A%20brown'%3ERaw%20Gene%20Expression%20Data%3C%2Fsapn%3E%0A%0A%20%20%20%20%20%20%20%20now%20that%20we%20have%20all%20the%20samples%20data%20for%20healthy%20and%20cancerous%20data%20GSE62944_RAW.tar%20data.%0A%0A%20%20%20%20%20%20%20%20%7C%20File%20Name%20%7C%20Sample%20ID%20%7C%20Date%20%7C%20Platform%20%7C%20Condition%20%7C%20File%20Type%20%7C%20Use%7C%0A%20%20%20%20%20%20%20%20%7C-----------%7C----------%7C------%7C----------%7C-----------%7C-----------%7C-----------%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_01_27_15_TCGA_20.Illumina.tumor_Rsubread_FeatureCounts.txt%20%7C%20GSM1536837%20%7C%2001_27_15%20%7C%20Illumina%20%7C%20Tumor%20%7C%20FeatureCounts%20%7C%20%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_01_27_15_TCGA_20.Illumina.tumor_Rsubread_FPKM.txt%20%7C%20GSM1536837%20%7C%2001_27_15%20%7C%20Illumina%20%7C%20Tumor%20%7C%20FPKM%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_01_27_15_TCGA_20.Illumina.tumor_Rsubread_TPM.txt%20%7C%20GSM1536837%20%7C%2001_27_15%20%7C%20Illumina%20%7C%20Tumor%20%7C%20TPM%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_06_01_15_TCGA_24.tumor_Rsubread_FeatureCounts.txt%20%7C%20GSM1536837%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Tumor%20%7C%20FeatureCounts%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_06_01_15_TCGA_24.tumor_Rsubread_FPKM.txt%20%7C%20GSM1536837%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Tumor%20%7C%20FPKM%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1536837_06_01_15_TCGA_24.tumor_Rsubread_TPM.txt%20%7C%20GSM1536837%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Tumor%20%7C%20TPM%20%7C%20%E2%9C%85%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1697009_06_01_15_TCGA_24.normal_Rsubread_FeatureCounts.txt%20%7C%20GSM1697009%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Normal%20%7C%20FeatureCounts%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1697009_06_01_15_TCGA_24.normal_Rsubread_FPKM.txt%20%7C%20GSM1697009%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Normal%20%7C%20FPKM%20%7C%20%7C%0A%20%20%20%20%20%20%20%20%7C%20GSM1697009_06_01_15_TCGA_24.normal_Rsubread_TPM.txt%20%7C%20GSM1697009%20%7C%2006_01_15%20%7C%20TCGA%20%7C%20Normal%20%7C%20TPM%20%7C%20%E2%9C%85%20%7C%0A%0A%20%20%20%20%20%20%20%20Since%20the%20gene%20expressions%20are%20in%20text%20format%20I%20need%20to%20as%20well%20extract%20the%20gene%20expression%20matrix%20parsing%20through%20data!%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pd)%3A%0A%20%20%20%20def%20get_samples_df(source%2C%20sample_list)%3A%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%20%20%20%20this%20function%20takes%20in%20the%20file%20source%20and%20sample%20list%20of%20BRCA%0A%20%20%20%20%20%20%20%20%20%20%20%20then%20return%20the%20data%20frame%20that%20contains%20the%20all%20the%20genes%20and%20related%20benign%20and%20melignant%20samples%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20with%20open(source%2C%20'r')%20as%20file%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20extracted_data%20%3D%20%5Bline.strip().split(%22%5Ct%22)%20for%20line%20in%20file%5D%0A%20%20%20%20%20%20%20%20df%3Dpd.DataFrame(extracted_data)%0A%20%20%20%20%20%20%20%20%23%20Extract%20first%20row%20as%20column%20names%20and%20shift%20right%0A%20%20%20%20%20%20%20%20new_columns%20%3D%20%5B%22%22%5D%20%2B%20df.iloc%5B0%2C%20%3A-1%5D.tolist()%20%20%23%20Shift%20column%20names%20one%20position%20right%0A%0A%20%20%20%20%20%20%20%20%23%20Drop%20the%20first%20row%20since%20it's%20now%20the%20header%0A%20%20%20%20%20%20%20%20df%20%3D%20df.iloc%5B1%3A%5D.reset_index(drop%3DTrue)%0A%0A%20%20%20%20%20%20%20%20%23%20Assign%20the%20new%20column%20names%0A%20%20%20%20%20%20%20%20df.columns%20%3D%20new_columns%0A%0A%20%20%20%20%20%20%20%20%23we%20have%20all%20the%20data%20we%20need%20%0A%20%20%20%20%20%20%20%20%23lest%20extract%20the%20samples%20that%20are%20relate%20to%20normal%20or%20melignant%20dataset%0A%0A%20%20%20%20%20%20%20%20df%3Ddf.set_index(df.columns%5B0%5D)%0A%20%20%20%20%20%20%20%20df%3Ddf.loc%5B%3A%2Csample_list%5D%0A%20%20%20%20%20%20%20%20return%20df%0A%20%20%20%20return%20(get_samples_df%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%23%23%231.%20Normal%20Samples%20from%20GSM1697009_06_01_15_TCGA_24.normal_Rsubread_TPM.txt%3A%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Normal_Sample_gene%2C%20get_samples_df)%3A%0A%20%20%20%20healthy_dataSet%20%3D%20get_samples_df('..%2F..%2Fdata%2FGSE62944_RAW%2FGSM1697009_06_01_15_TCGA_24.normal_Rsubread_TPM.txt'%2CNormal_Sample_gene%5B'Samples'%5D.to_list())%0A%20%20%20%20healthy_dataSet%3Dhealthy_dataSet.T%0A%20%20%20%20healthy_dataSet%3Dhealthy_dataSet.astype(float)%0A%20%20%20%20%23%20healthy_dataSet.to_csv('..%2F..%2Fdata%2FModelDataSets%2FhelthyExpressions.csv')%0A%20%20%20%20return%20(healthy_dataSet%2C)%0A%0A%0A%40app.cell%0Adef%20_(healthy_dataSet%2C%20mo)%3A%0A%20%20%20%20mo.ui.table(healthy_dataSet)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%232.%20Melignant%20samples%20Samples%20from%20GSM1697009_06_01_15_TCGA_24.normal_Rsubread_TPM.txt%3A%0A%0A%20%20%20%20%20%20%20%20Now%20we%20are%20doing%20the%20same%20thing%20for%20toumor%20samples!%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(pd)%3A%0A%20%20%20%20%22%22%22%0A%20%20%20%20df1%20%3Dget_samples_df('..%2F..%2Fdata%2FGSE62944_RAW%2FGSM1536837_06_01_15_TCGA_24.tumor_Rsubread_TPM.txt'%2C%20cancerBRCA_type_df%5B'Samples'%5D.to_list())%0A%20%20%20%20df2%20%3Dget_samples_df('..%2F..%2Fdata%2FGSE62944_RAW%2FGSM1536837_06_01_15_TCGA_24.tumor_Rsubread_TPM.txt'%2C%20melignent_df%5B'Samples'%5D.to_list())%0A%20%20%20%20cancer_dataSet%20%3D%20pd.concat(%5Bdf1.T%2Cdf2.T%5D%2Cignore_index%3DFalse)%0A%20%20%20%20cancer_dataSet%3Dcancer_dataSet.astype(float)%0A%20%20%20%20%22%22%22%0A%0A%20%20%20%20cancer_dataSet%20%3D%20pd.read_csv('..%2F..%2Fdata%2FModelDataSets%2FcancerExpressions.csv')%0A%20%20%20%20return%20(cancer_dataSet%2C)%0A%0A%0A%40app.cell%0Adef%20_(cancer_dataSet%2C%20mo)%3A%0A%20%20%20%20cancer_dataSet.rename(columns%3D%7B'Unnamed%3A%200'%3A'Samples'%7D%2C%20inplace%3DTrue)%0A%20%20%20%20mo.ui.table(cancer_dataSet)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20It%20seams%20like%20we%20have%202%2C200%20samples%20and%20for%20the%20model%20training%20using%2060%2C20%2C20%20distribution.%20We%20are%20going%20to%20have%20%5B1321%2C%20350%2C%20350%5D%20sample%20distribution%20for%20test%20train%20and%20val%20dataset!%0A%0A%20%20%20%20%20%20%20%20As%20we%20can%20see%20how%20the%20expression%20of%20the%20same%20top%20300%20genes%20in%20the%20same%20order%20deffer%20significantly.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%3Cspan%20style%3D%22color%3A%20brown%22%3EClinical_Variables%20Suplemantory%20file%3A%3Cspan%3E%0A%0A%20%20%20%20%20%20%20%20This%20suplementary%20file%20gives%20cancer%20related%20senses%20such%20as%20**age%2C%20gender%2C%20tebaco%20and%20alchohol%20consumption%2C%20and%20family%20historyy%2C%20...**.%0A%0A%20%20%20%20%20%20%20%20we%20need%20to%20analy%20how%20does%20each%20of%20these%20corolates%20with%20the%20cancer%20status.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo%2C%20pd)%3A%0A%20%20%20%20with%20open('..%2F..%2Fdata%2FSuplementoryFiles%2FGSE62944_01_27_15_TCGA_20_420_Clinical_Variables_7706_Samples.txt'%2C%20'r')%20as%20file%3A%0A%20%20%20%20%20%20%20%20exractedData1%3D%5Bline.split('%5Ct')%20for%20line%20in%20file.readlines()%5D%0A%20%20%20%20with%20open('..%2F..%2Fdata%2FSuplementoryFiles%2FGSE62944_06_01_15_TCGA_24_548_Clinical_Variables_9264_Samples.txt'%2C%20'r')%20as%20file%3A%0A%20%20%20%20%20%20%20%20exractedData2%3D%5Bline.split('%5Ct')%20for%20line%20in%20file.readlines()%5D%0A%0A%20%20%20%20%23%20Convert%20to%20DataFrames%0A%20%20%20%20df1%20%3D%20pd.DataFrame(exractedData1)%0A%20%20%20%20df2%20%3D%20pd.DataFrame(exractedData2)%0A%0A%20%20%20%20%23%20Transpose%20the%20DataFrames%0A%20%20%20%20df1%20%3D%20df1.T%0A%20%20%20%20df2%20%3D%20df2.T%0A%0A%20%20%20%20%23%20Concatenate%0A%20%20%20%20concat_df%20%3D%20pd.concat(%5Bdf1%2C%20df2%5D)%0A%0A%20%20%20%20%23%20Rename%20columns%20using%20the%20first%20row%0A%20%20%20%20concat_df.columns%20%3D%20concat_df.iloc%5B0%5D%0A%20%20%20%20concat_df%20%3D%20concat_df.drop(0)%20%20%23%20Remove%20the%20first%20row%0A%0A%20%20%20%20%23remove%20nan%20colomns%0A%20%20%20%20concat_df%20%3D%20concat_df.loc%5B%3A%2C%20~concat_df.columns.isna()%5D%0A%0A%20%20%20%20%23%20Rename%20index%20column%0A%20%20%20%20if%20''%20in%20concat_df.columns%3A%0A%20%20%20%20%20%20%20%20concat_df.rename(columns%3D%7B''%3A%20'Samples'%7D%2C%20inplace%3DTrue)%0A%0A%20%20%20%20%23%20Display%20the%20DataFrame%0A%20%20%20%20mo.ui.table(concat_df)%0A%20%20%20%20return%20concat_df%2C%20df1%2C%20df2%2C%20exractedData1%2C%20exractedData2%2C%20file%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22After%20Creating%20a%20data%20fram%20from%20the%20two%20%3Cspan%20style%3D%22color%3A%20brown%22%3Etwo%20clinical%20suplimentary%20files%3C%2Fspan%3E%2C%20now%20we%20have%20to%20extract%20all%20the%20BRCA%20data%20from%20it%20and%20the%20following%20table%20displays%20all%20the%20brca%20related%20logistics.%20Now%20we%20can%20delve%20in%20furthure%20to%20create%20a%20dataset%20for%20stage%20prognosis%20and%20furthermore%20analyze%20patients%20demografic%20and%20see%20how%20they%20are%20corolated.%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(cancer_dataSet%2C%20concat_df%2C%20mo)%3A%0A%20%20%20%20%23%20healthyBRCAList%20%3D%20healthy_dataSet.index%0A%20%20%20%20cancerBRCAList%20%3D%20cancer_dataSet%5B'Samples'%5D%0A%0A%20%20%20%20BRCA_CV%20%3D%20concat_df%5Bconcat_df%5B'Samples'%5D.isin(cancerBRCAList)%5D.copy()%0A%20%20%20%20%23%20BRCA_CV.drop(columns%3D'index'%2C%20inplace%3DTrue)%0A%20%20%20%20mo.ui.table(BRCA_CV)%0A%20%20%20%20return%20BRCA_CV%2C%20cancerBRCAList%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20%23BRCA_CV.to_csv('clinicalDF.csv'%2C%20index%3DFalse)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22Just%20over%20look%20of%20of%20the%20columns%20of%20this%20dataset%20we%20can%20see%20that%20the%20data%20can%20be%20used%20for%20the%20following%20analysis%3A%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo%2C%20pd)%3A%0A%20%20%20%20%23%20Function%20to%20create%20tables%20from%20lists%0A%20%20%20%20def%20create_table(data)%3A%0A%20%20%20%20%20%20%20%20df%20%3D%20pd.DataFrame(data%2C%20columns%3D%5B%22Feature%22%2C%20%22Description%22%5D)%0A%20%20%20%20%20%20%20%20return%20mo.ui.table(df)%0A%0A%20%20%20%20%23%20Define%20tables%20for%20each%20category%0A%20%20%20%20patient_demographics_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22age_at_diagnosis%22%2C%20%22Age%20at%20the%20time%20of%20cancer%20diagnosis%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22gender%22%2C%20%22Gender%20of%20the%20patient%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22race%22%2C%20%22Racial%20background%20of%20the%20patient%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ethnicity%22%2C%20%22Ethnic%20background%20of%20the%20patient%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22family_history_cancer_indicator%22%2C%20%22Whether%20there%20is%20a%20family%20history%20of%20cancer%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22family_history_cancer_type%22%2C%20%22Type%20of%20cancer%20in%20the%20family%20history%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22family_history_cancer_relationship%22%2C%20%22Relationship%20of%20family%20members%20with%20cancer%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_other_malignancy%22%2C%20%22History%20of%20other%20malignancies%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_neoadjuvant_treatment%22%2C%20%22Prior%20neoadjuvant%20treatment%20history%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_colon_polyps%22%2C%20%22History%20of%20colon%20polyps%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_hematologic_disorder%22%2C%20%22History%20of%20hematologic%20disorders%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_exposure_leukemogenic_agents%22%2C%20%22Exposure%20to%20leukemogenic%20agents%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_chemical_exposure_other%22%2C%20%22Exposure%20to%20other%20chemical%20agents%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_radiation_exposure%22%2C%20%22History%20of%20radiation%20exposure%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_hormonal_contraceptives_use%22%2C%20%22Use%20of%20hormonal%20contraceptives%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_menopausal_hormone_therapy%22%2C%20%22Use%20of%20menopausal%20hormone%20therapy%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22history_tamoxifen_use%22%2C%20%22Use%20of%20tamoxifen%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20tumor_characteristics_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22tumor_status%22%2C%20%22Status%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22tumor_type%22%2C%20%22Type%20of%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22tumor_tissue_site%22%2C%20%22Location%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22anatomic_neoplasm_subdivision%22%2C%20%22Anatomical%20subdivision%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22clinical_stage%22%2C%20%22Clinical%20stage%20of%20cancer%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22histologic_diagnosis%22%2C%20%22Histologic%20diagnosis%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22histologic_subtype%22%2C%20%22Histologic%20subtype%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22neoplasm_histologic_grade%22%2C%20%22Histologic%20grade%20of%20the%20neoplasm%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22tumor_size_width%22%2C%20%22Width%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22tumor_grade%22%2C%20%22Grade%20of%20the%20tumor%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22icd_10%22%2C%20%22ICD-10%20classification%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22icd_o_3_histology%22%2C%20%22ICD-O-3%20histologic%20classification%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22icd_o_3_site%22%2C%20%22ICD-O-3%20site%20classification%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22gleason_pattern_primary%22%2C%20%22Primary%20Gleason%20pattern%20(for%20prostate%20cancer)%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22gleason_pattern_secondary%22%2C%20%22Secondary%20Gleason%20pattern%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22gleason_score%22%2C%20%22Overall%20Gleason%20score%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20cancer_staging_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22ajcc_staging_edition%22%2C%20%22AJCC%20staging%20edition%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ajcc_tumor_pathologic_pt%22%2C%20%22Pathologic%20primary%20tumor%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ajcc_nodes_pathologic_pn%22%2C%20%22Pathologic%20lymph%20node%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ajcc_metastasis_pathologic_pm%22%2C%20%22Pathologic%20metastasis%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ajcc_pathologic_tumor_stage%22%2C%20%22Overall%20pathologic%20tumor%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ajcc_clinical_tumor_stage%22%2C%20%22Overall%20clinical%20tumor%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22clinical_M%22%2C%20%22Clinical%20metastasis%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22clinical_N%22%2C%20%22Clinical%20lymph%20node%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22clinical_T%22%2C%20%22Clinical%20tumor%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22pathologic_M%22%2C%20%22Pathologic%20metastasis%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22pathologic_N%22%2C%20%22Pathologic%20lymph%20node%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22pathologic_T%22%2C%20%22Pathologic%20tumor%20stage%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22pathologic_stage%22%2C%20%22Overall%20pathologic%20stage%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20metastasis_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22metastatic_tumor_indicator%22%2C%20%22Indicates%20metastatic%20tumor%20presence%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22metastasis_site%22%2C%20%22Site%20of%20metastasis%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22extracapsular_extension%22%2C%20%22Presence%20of%20extracapsular%20extension%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22extracapsular_extension_present%22%2C%20%22Whether%20extracapsular%20extension%20is%20present%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22lymphovascular_invasion%22%2C%20%22Presence%20of%20lymphovascular%20invasion%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22vascular_invasion%22%2C%20%22Presence%20of%20vascular%20invasion%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22lymph_nodes_examined%22%2C%20%22Number%20of%20lymph%20nodes%20examined%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22lymph_nodes_examined_count%22%2C%20%22Count%20of%20examined%20lymph%20nodes%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22lymph_nodes_examined_positive%22%2C%20%22Number%20of%20positive%20lymph%20nodes%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22perineural_invasion%22%2C%20%22Presence%20of%20perineural%20invasion%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20treatment_data_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22radiation_treatment_adjuvant%22%2C%20%22Adjuvant%20radiation%20therapy%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22pharmaceutical_tx_adjuvant%22%2C%20%22Adjuvant%20pharmaceutical%20treatment%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22treatment_outcome_first_course%22%2C%20%22Outcome%20of%20the%20first%20course%20of%20treatment%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22targeted_molecular_therapy%22%2C%20%22Targeted%20molecular%20therapy%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22definitive_surgical_procedure%22%2C%20%22Definitive%20surgical%20procedure%20performed%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22surgical_procedure_first%22%2C%20%22First%20surgical%20procedure%20performed%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22margin_status%22%2C%20%22Surgical%20margin%20status%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22surgery_for_positive_margins%22%2C%20%22Surgery%20performed%20for%20positive%20margins%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22chemotherapy%22%2C%20%22Chemotherapy%20treatment%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22hormonal_therapy%22%2C%20%22Hormonal%20therapy%20treatment%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22immunotherapy%22%2C%20%22Immunotherapy%20treatment%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22ablation_embolization_tx_adjuvant%22%2C%20%22Ablation%20or%20embolization%20therapy%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20genetic_mutations_table%20%3D%20create_table(%5B%0A%20%20%20%20%20%20%20%20%5B%22kras_gene_analysis_indicator%22%2C%20%22Indicator%20of%20KRAS%20gene%20analysis%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22kras_mutation_found%22%2C%20%22KRAS%20mutation%20found%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22kras_mutation_codon%22%2C%20%22KRAS%20mutation%20codon%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22braf_gene_analysis_indicator%22%2C%20%22Indicator%20of%20BRAF%20gene%20analysis%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22braf_gene_analysis_result%22%2C%20%22BRAF%20gene%20analysis%20result%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22p53_gene_analysis%22%2C%20%22p53%20gene%20analysis%20result%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22egfr_mutation_status%22%2C%20%22EGFR%20mutation%20status%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22egfr_mutation_identified_type%22%2C%20%22Type%20of%20EGFR%20mutation%20identified%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22eml4_alk_translocation_status%22%2C%20%22EML4-ALK%20translocation%20status%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22idh1_mutation_test_indicator%22%2C%20%22IDH1%20mutation%20test%20indicator%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22idh1_mutation_found%22%2C%20%22IDH1%20mutation%20found%22%5D%2C%0A%20%20%20%20%20%20%20%20%5B%22her2_status_by_ihc%22%2C%20%22HER2%20status%20determined%20by%20IHC%22%5D%0A%20%20%20%20%5D)%0A%0A%20%20%20%20%23%20Create%20tabs%20using%20a%20dictionary%0A%20%20%20%20tabs%20%3D%20mo.ui.tabs(%7B%0A%20%20%20%20%20%20%20%20%22Patient%20Demographics%20%26%20History%22%3A%20patient_demographics_table%2C%0A%20%20%20%20%20%20%20%20%22Tumor%20Characteristics%20%26%20Diagnosis%22%3A%20tumor_characteristics_table%2C%0A%20%20%20%20%20%20%20%20%22Cancer%20Staging%22%3Acancer_staging_table%2C%0A%20%20%20%20%20%20%20%20%22Metastasis%20Cancer%20Data%22%3A%20metastasis_table%2C%0A%20%20%20%20%20%20%20%20%22Treatments%20Data%22%3A%20treatment_data_table%2C%0A%20%20%20%20%20%20%20%20%22Genetic%20Mutations%22%3A%20genetic_mutations_table%0A%0A%20%20%20%20%7D)%0A%0A%20%20%20%20tabs%0A%20%20%20%20return%20(%0A%20%20%20%20%20%20%20%20cancer_staging_table%2C%0A%20%20%20%20%20%20%20%20create_table%2C%0A%20%20%20%20%20%20%20%20genetic_mutations_table%2C%0A%20%20%20%20%20%20%20%20metastasis_table%2C%0A%20%20%20%20%20%20%20%20patient_demographics_table%2C%0A%20%20%20%20%20%20%20%20tabs%2C%0A%20%20%20%20%20%20%20%20treatment_data_table%2C%0A%20%20%20%20%20%20%20%20tumor_characteristics_table%2C%0A%20%20%20%20)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%23%23%3Cspan%20style%3D%22color%3A%20brown%22%3EData%20Clening%20and%20Analysis%20and%20Labling%3C%2Fspan%3E%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(BRCA_CV)%3A%0A%20%20%20%20import%20numpy%20as%20np%0A%20%20%20%20%23%20value_dic%3D%7B%7D%0A%20%20%20%20%23%20for%20col%20in%20BRCA_CV.columns%3A%0A%20%20%20%20%23%20%20%20%20%20value_dic%5Bcol%5D%20%3D%20BRCA_CV%5Bcol%5D.value_counts()%0A%20%20%20%20%23%20value_dic%0A%20%20%20%20new_brca_df%20%3D%20BRCA_CV.copy()%0A%20%20%20%20new_brca_df.replace(%22NA%22%2C%20np.nan%2C%20inplace%3DTrue)%0A%20%20%20%20new_brca_df.info(verbose%3DTrue%2C%20show_counts%3DTrue)%0A%20%20%20%20return%20new_brca_df%2C%20np%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20As%20we%20can%20see%20lot%20of%20unprovided%20values%20for%20these%20clinical%20varuables%20and%20also%20there%20is%20no%20logical%20way%20to%20replace%20these%20NaN%20values%20usin%20inputation%20or%20using%20mean%20beacuse%20its%20either%20string%20or%20each%20of%20these%20values%20in%20biology%20are%20not%20inputable%20because%20the%20symantical%20meaning%20it%20has.%20%0A%0A%20%20%20%20%20%20%20%20For%20Cleaning%20up%20we%20are%20going%20to%20drop%20columns%20%5B189%3A%5D.%20How%20ever%20these%20three%20columns%20are%20going%20to%20leh%20us%20alot%20to%20label%20our%20gene%20expressions%20for%20staging%20and%20prepare%20the%20data%20for%20our%20deep%20learning%20model.%20%0A%0A%20%20%20%20%20%20%20%20%20%7C%20Column%20%7C%20Variable%20%7C%20non%20Null%20count%20%7C%20Dtype%20%7C%0A%20%20%20%20%20%20%20%20%20%7C--------%7C----------%7C----------------%7C-------%7C%0A%20%20%20%20%20%20%20%20%20%7C%2064%20%7C%20clinical_M%20%7C%20994%20non-null%20%7C%20object%20%7C%0A%20%20%20%20%20%20%20%20%20%7C%2065%20%7C%20clinical_N%20%7C%20994%20non-null%20%7C%20object%20%7C%0A%20%20%20%20%20%20%20%20%20%7C%2066%20%7C%20clinical_T%20%7C%20994%20non-null%20%7C%20object%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%3Cspan%20style%3D%22color%3Agreen%22%3EMedical%20Terminalogies%20for%20Cancer%20Staging%3C%2Fspan%3E%0A%0A%20%20%20%20%20%20%20%20**Cancer%20Staging%3A**%0A%0A%20%20%20%20%20%20%20%20Stage%20refers%20to%20the%20extent%20of%20your%20cancer%2C%20such%20as%20how%20large%20the%20tumor%20is%20and%20if%20it%20has%20spread.%20%0A%0A%20%20%20%20%20%20%20%20**Systems%20That%20Describe%20Stage%3A**%0A%0A%20%20%20%20%20%20%20%20There%20are%20many%20staging%20systems.%20Some%2C%20such%20as%20the%20TNM%20staging%20system%2C%20are%20used%20for%20many%20types%20of%20cancer.%20Others%20are%20specific%20to%20a%20particular%20type%20of%20cancer.%20Most%20staging%20systems%20include%20information%20about%20where%20the%20tumor%20is%20located%20in%20the%20body%0A%20%20%20%20%20%20%20%20the%20size%20of%20the%20tumor%20whether%20the%20cancer%20has%20spread%20to%20nearby%20lymph%20nodes%0A%20%20%20%20%20%20%20%20whether%20the%20cancer%20has%20spread%20to%20a%20different%20part%20of%20the%20body%0A%0A%20%20%20%20%20%20%20%20**The%20TNM%20Staging%20System**%0A%0A%20%20%20%20%20%20%20%20The%20TNM%20system%20is%20the%20most%20widely%20used%20cancer%20staging%20system.%20Most%20hospitals%20and%20medical%20centers%20use%20the%20TNM%20system%20as%20their%20main%20method%20for%20cancer%20reporting.%20You%20are%20likely%20to%20see%20your%20cancer%20described%20by%20this%20staging%20system%20in%20your%20pathology%20report%20unless%20there%20is%20a%20different%20staging%20system%20for%20your%20type%20of%20cancer.%20Examples%20of%20cancers%20with%20different%20staging%20systems%20include%20brain%20and%20spinal%20cord%20tumors%20and%20blood%20cancers.%20%0A%0A%20%20%20%20%20%20%20%20In%20the%20TNM%20system%3A%0A%0A%20%20%20%20%20%20%20%20*%20The%20T%20refers%20to%20the%20size%20and%20extent%20of%20the%20main%20tumor.%20The%20main%20tumor%20is%20usually%20called%20the%20primary%20tumor.%0A%20%20%20%20%20%20%20%20*%20The%20N%20refers%20to%20the%20number%20of%20nearby%20lymph%20nodes%20that%20have%20cancer.%0A%20%20%20%20%20%20%20%20*%20The%20M%20refers%20to%20whether%20the%20cancer%20has%20metastasized.%20This%20means%20that%20the%20cancer%20has%20spread%20from%20the%20primary%20tumor%20to%20other%20parts%20of%20the%20body.%0A%20%20%20%20%20%20%20%20*%20When%20your%20cancer%20is%20described%20by%20the%20TNM%20system%2C%20there%20will%20be%20numbers%20after%20each%20letter%20that%20give%20more%20details%20about%20the%20cancer%E2%80%94for%20example%2C%20T1N0MX%20or%20T3N1M0.%20The%20following%20explains%20what%20the%20letters%20and%20numbers%20mean.%0A%0A%20%20%20%20%20%20%20%20Primary%20tumor%20(T)%3A%0A%0A%20%20%20%20%20%20%20%20*%20TX%3A%20Main%20tumor%20cannot%20be%20measured.%0A%20%20%20%20%20%20%20%20*%20T0%3A%20Main%20tumor%20cannot%20be%20found.%0A%20%20%20%20%20%20%20%20*%20T1%2C%20T2%2C%20T3%2C%20T4%3A%20Refers%20to%20the%20size%20and%2For%20extent%20of%20the%20main%20tumor.%20The%20higher%20the%20number%20after%20the%20T%2C%20the%20larger%20the%20tumor%20or%20the%20more%20it%20has%20grown%20into%20nearby%20tissues.%20*%20*%20T's%20may%20be%20further%20divided%20to%20provide%20more%20detail%2C%20such%20as%20T3a%20and%20T3b.%0A%0A%20%20%20%20%20%20%20%20Regional%20lymph%20nodes%20(N)%3A%0A%0A%20%20%20%20%20%20%20%20*%20NX%3A%20Cancer%20in%20nearby%20lymph%20nodes%20cannot%20be%20measured.%0A%20%20%20%20%20%20%20%20*%20N0%3A%20There%20is%20no%20cancer%20in%20nearby%20lymph%20nodes.%0A%20%20%20%20%20%20%20%20*%20N1%2C%20N2%2C%20N3%3A%20Refers%20to%20the%20number%20and%20location%20of%20lymph%20nodes%20that%20contain%20cancer.%20The%20higher%20the%20number%20after%20the%20N%2C%20the%20more%20lymph%20nodes%20that%20contain%20cancer.%0A%0A%20%20%20%20%20%20%20%20Distant%20metastasis%20(M)%0A%0A%20%20%20%20%20%20%20%20*%20MX%3A%20Metastasis%20cannot%20be%20measured.%0A%20%20%20%20%20%20%20%20*%20M0%3A%20Cancer%20has%20not%20spread%20to%20other%20parts%20of%20the%20body.%0A%20%20%20%20%20%20%20%20*%20M1%3A%20Cancer%20has%20spread%20to%20other%20parts%20of%20the%20body.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.image(src%3D'BRCA_StageGrouping.png'%2C%20caption%3D'From%20AJCC%20cancer%20staging%20manual.%206th%20Edition.%20New%20York%3A%20Springer-Verlag%2C%202002%20with%20permission.')%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22%23%23%23%3Cspan%20style%3D%22color%3A%20green%22%3ELabaling%20Data%3A%3C%2Fspan%3E%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(melignent_df%2C%20mo%2C%20new_brca_df)%3A%0A%20%20%20%20%23drop%20the%20Nan%20colons%0A%20%20%20%20droped_Df%20%3D%20new_brca_df.copy()%0A%20%20%20%20droped_Df%20%3D%20droped_Df.iloc%5B%3A%2C%3A189%5D%0A%0A%20%20%20%20droped_Df%20%3D%20droped_Df%5Bdroped_Df%5B'Samples'%5D.isin(melignent_df%5B'Samples'%5D)%5D%0A%20%20%20%20mo.ui.table(droped_Df)%0A%20%20%20%20return%20(droped_Df%2C)%0A%0A%0A%40app.cell%0Adef%20_(droped_Df)%3A%0A%20%20%20%20droped_Df.fillna(%22Not%20Available%22%2C%20inplace%3DTrue)%0A%20%20%20%20droped_Df.info(verbose%3DTrue%2C%20show_counts%3DTrue)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22Now%20we%20cleaned%20up%20the%20data%20frame%2C%20its%20time%20to%20lable%20the%20samples%20based%20on%20%3Cspan%20style%3D%22color%3Agreen%22%3EM%2C%20T%2C%20N%3C%2Fspan%3E%20markers%20related%20to%20breast%20cancer%20that%20we%20mentioned%20earlier.%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(droped_Df)%3A%0A%20%20%20%20droped_Df.value_counts()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%3Cspan%20style%3D%22color%3A%20green%22%3EUsing%20a%20secondary%20Clinical%20Variable%20dataset%20Directy%20extracted%20from%20TCGA%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20It%20seams%20like%20the%20suplementary%20files%20for%20clinical%20variables%20is%20not%20structed%20verywell.%20How%20ever%20using%20R%20pakage%20we%20extracted%20a%20better%20clinical%20values%20from%20TCGA%20dataset%20that%20could%20be%20used%20the%20same%20gene%20expression%20the%20NCBI%20GEO%20dataset%20so%20instead%20we%20are%20going%20to%20use%20this%20instead.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%3Cspan%20style%3D%22color%3A%20brown%22%3ECollection%20Mthode%3A%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%23%23%23%20Extracting%20Breast%20Cancer%20Data%20from%20TCGA%20Using%20R%0A%0A%20%20%20%20%20%20%20%20In%20order%20to%20find%20an%20apropriate%20dataset%20for%20our%20models%20We%20utilized%20TCGAbiol%E2%88%88ksTCGAbiolinks%2C%20an%20R%20package%20designed%20to%20query%20and%20download%20cancer%20genomics%20data%20from%20Genomic%20Data%20Commons%20(GDC).%20This%20package%20enables%20researchers%20to%20access%20large-scale%20RNA%20sequencing%20(RNA-seq)%20gene%20expression%20data%20and%20clinical%20metadata%20for%20breast%20cancer%20patients.The%20Cancer%20Genome%20Atlas%20(TCGA)%20exists%20as%20a%20pioneering%20project%20developed%20jointly%20between%20National%20Cancer%20Institute%20(NCI)%20and%20National%20Human%20Genome%20Research%20Institute%20(NHGRI).%20This%20extensive%20cancer%20genomics%20database%20represents%20one%20of%20the%20biggest%20collections%20that%20many%20researchers%20can%20access%20publicly%20with%20containing%20in-depth%20information%20up%20to%2033%20different%20cancer%20types.%20%20The%20main%20objective%20of%20TCGA%20centers%20on%20pushing%20cancer%20research%20forward%20by%20revealing%20extensive%20details%20regarding%20genomic%20modifications%20and%20expression%20patterns%20with%20their%20role%20in%20forming%20and%20advancing%20cancer.%20The%20dataset%20includes%20multiple%20types%20of%20molecular%20data%20such%20as%20DNA%20sequencing%2C%20RNA%20sequencing%2C%20epigenetic%20modifications%2C%20and%20clinical%20metadata%2C%20making%20it%20a%20valuable%20resource%20prinding%20a%20more%20accurate%20prognonsis.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20r_script%20%3D%20f%22%22%22%0A%20%20%20%20%23%23%20Implementation%20using%20R%0A%0A%20%20%20%20library(TCGAbiolinks)%0A%20%20%20%20library(SummarizedExperiment)%0A%20%20%20%20library(dplyr)%0A%20%20%20%20%23%20query%20for%20fetching%20RNA-seq%20data%0A%20%20%20%20query%20%3D%20GDCquery(project%20%3D%20%22TCGA-BRCA%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.category%20%3D%20%22Transcriptome%20Profiling%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data.type%20%3D%20%22Gene%20Expression%20Quantification%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20workflow.type%20%3D%20%22STAR%20-%20Counts%22)%0A%0A%20%20%20%20%23%20now%20downloading%20the%20data%20using%20the%20constructed%20query%0A%20%20%20%20GDCdownload(query)%0A%0A%20%20%20%20%23%20Prepare%20the%20data%20into%20an%20R%20object%0A%20%20%20%20data%20%3D%20GDCprepare(query)%0A%20%20%20%20%23retreiving%20both%20clinical%20and%20gene%20expression%20data%20from%20the%20%0A%20%20%20%20expression_data%20%3D%20assay(data)%20%20%0A%20%20%20%20clinical_data%20%3D%20colData(data)%20%20%0A%20%20%20%20str(clinical_data)%0A%20%20%20%20write.csv(expression_data%2C%20file%20%3D%20%22brca_expression_data.csv%22)%0A%0A%20%20%20%20clinical_df%20%3C-%20as.data.frame(clinical_data)%0A%20%20%20%20list_cols%20%3C-%20sapply(clinical_df%2C%20is.list)%0A%20%20%20%20clinical_df%5Blist_cols%5D%20%3C-%20lapply(clinical_df%5Blist_cols%5D%2C%20function(x)%20sapply(x%2C%20toString))%0A%20%20%20%20write.csv(clinical_df%2C%20file%20%3D%20%22brca_clinical_data.csv%22%2C%20row.names%20%3D%20FALSE)%0A%20%20%20%20%22%22%22%0A%20%20%20%20mo.ui.code_editor(r_script)%0A%20%20%20%20return%20(r_script%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%22%22%22The%20following%20Tabs%20display%20the%20extracted%20Data%20as%20well%20as%20decription%20of%20all%20the%20columns%20their%20values%20type%20and%20count%20of%20their%20missing%20vlues.%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo%2C%20pd)%3A%0A%20%20%20%20import%20io%0A%20%20%20%20%23%20Load%20dataset%0A%20%20%20%20other_sup_file%20%3D%20pd.read_csv(%22head1.csv%22)%0A%0A%20%20%20%20%23%20Capture%20DataFrame%20info%20as%20a%20string%0A%20%20%20%20info_buffer%20%3D%20io.StringIO()%0A%20%20%20%20other_sup_file.info(verbose%3DTrue%2C%20show_counts%3DTrue%2C%20buf%3Dinfo_buffer)%0A%20%20%20%20info_text%20%3D%20info_buffer.getvalue()%0A%0A%20%20%20%20%23%20Create%20Marimo%20UI%20tabs%0A%20%20%20%20mo.ui.tabs(%7B%0A%20%20%20%20%20%20%20%20%22DataSet%22%3A%20mo.ui.table(other_sup_file)%2C%0A%20%20%20%20%20%20%20%20%22Info%22%3A%20mo.ui.code_editor(f%22%60%5Cn%7Binfo_text%7D%5Cn%60%22)%20%20%23%20Display%20info%20in%20a%20nicely%20formatted%20code%20block%0A%20%20%20%20%7D)%0A%20%20%20%20return%20info_buffer%2C%20info_text%2C%20io%2C%20other_sup_file%0A%0A%0A%40app.cell%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%20%3Cspan%20style%3D%22color%3A%20green%22%3EDataSet%20Clean%20up%20Proccess%3C%2Fspan%3E%0A%0A%20%20%20%20%20%20%20%20There%20are%20many%20columns%20that%20contains%20zero%20non_Null%20values.%20To%20prevent%20pandas%20dropping%20other%20columns%20or%20rows%20mistakenly%20I%20drop%20the%20columns%20that%20had%20more%20than%20threshold%20of%20%2580%20Nan%20values.%20and%20drop%20the%20rows%20of%20staging%20related%20columns%20respectively.%20The%20following%20data%20set%20is%20the%20cleaned%20up%20version%20of%20our%20dataset.%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(other_sup_file)%3A%0A%20%20%20%20%23%20cleaning%20up%0A%20%20%20%20%23%23%23%20Step%201%3A%20Drop%20Columns%20with%20Too%20Many%20Missing%20Values%20%0A%20%20%20%20threshold%20%3D%200.8%20%20%23%20If%20more%20than%2080%25%20values%20are%20missing%2C%20drop%20the%20column%0A%0A%0A%20%20%20%20other_sup_file.dropna(thresh%3Dint(threshold%20*%20len(other_sup_file))%2C%20axis%3D1%2C%20inplace%3DTrue)%0A%20%20%20%20return%20(threshold%2C)%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(io%2C%20mo%2C%20other_sup_file)%3A%0A%20%20%20%20other_sup_file.dropna(inplace%3DTrue)%0A%20%20%20%20buffer%20%3D%20io.StringIO()%0A%20%20%20%20other_sup_file.info(verbose%3DTrue%2C%20show_counts%3DTrue%2C%20buf%3Dbuffer)%0A%20%20%20%20moded_info%20%3D%20buffer.getvalue()%20%20%23%20Store%20the%20captured%20output%20as%20a%20string%0A%0A%20%20%20%20%23%20Display%20tabs%20correctly%0A%20%20%20%20mo.ui.tabs(%7B%0A%20%20%20%20%20%20%20%20%22Cleaned%20Table%22%3A%20mo.ui.table(other_sup_file)%2C%0A%20%20%20%20%20%20%20%20%22Info%22%3A%20mo.ui.code_editor(f%22%60%5Cn%7Bmoded_info%7D%5Cn%60%22)%20%20%23%20Properly%20formatted%20info%0A%20%20%20%20%7D)%0A%20%20%20%20return%20buffer%2C%20moded_info%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22Now%20we%20can%20count%20the%20numer%20of%20samples%20available%20for%20each%20staging%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(other_sup_file)%3A%0A%20%20%20%20other_sup_file%5B'ajcc_pathologic_stage'%5D.value_counts()%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20%20%20%20%20Since%20the%20number%20of%20sample%20for%20some%20stages%20are%20not%20suffitient%20enough%20to%20have%20datset%20fo%20reach%20individual%20Type%20%3Cspan%20style%3D%22color%3A%20brown%22%3EStage%20II%20A%2C%20B%2C%20...%3C%2Fspan%3E%2C%20we%20are%20going%20to%20combine%20each%20stage.%20Thus%20our%20new%20stages%20would%20be%3A%0A%0A%20%20%20%20%20%20%20%20%7C%20Stages%20%7C%7C%7C%0A%20%20%20%20%20%20%20%20%7C--------%7C--------%7C--------%7C%0A%20%20%20%20%20%20%20%20%7C%20Stage%20I%20%7C%20Stage%20II%20%7C%20Stage%20III%20%7C%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(other_sup_file)%3A%0A%20%20%20%20from%20sklearn.preprocessing%20import%20LabelEncoder%0A%20%20%20%20le%20%3D%20LabelEncoder()%0A%20%20%20%20%23%20Copy%20relevant%20columns%20from%20the%20dataset%0A%20%20%20%20corr_data%20%3D%20other_sup_file.iloc%5B%3A%2C%2011%3A%5D.copy().fillna(0)%0A%20%20%20%20%23%20%23%20One-Hot%20Encode%20categorical%20variables%20(Fixing%20the%20error)%0A%20%20%20%20for%20_clm%20in%20corr_data.columns%3A%0A%20%20%20%20%20%20%20%20corr_data%5B_clm%5D%20%3D%20le.fit_transform(corr_data%5B_clm%5D)%0A%0A%20%20%20%20%23%20corr_data%20%3D%20corr_data.to_frame()%0A%20%20%20%20corr_target%20%3D%20corr_data.corrwith(corr_data%5B'ajcc_pathologic_stage'%5D)%0A%20%20%20%20return%20LabelEncoder%2C%20corr_data%2C%20corr_target%2C%20le%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%20%20%20%20%23%23%23%3Cspan%20style%3D%22color%3A%20Green%22%3EUse%20correlation%20matrices%20to%20find%20relationships%20between%20genes%20and%20patient%20features.%3C%2Fspan%3E%0A%0A%20%20%20%20%20%20%20%20I%20would%20like%20to%20see%20the%20correlation%20between%20the%20cancerous%20and%20non%20cancerous%20genes%20and%20patiens%20demographic%0A%20%20%20%20%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(corr_target%2C%20mo)%3A%0A%20%20%20%20import%20plotly.express%20as%20px%0A%20%20%20%20corr_mtrx%20%3D%20corr_target.fillna(0).copy().to_frame().rename(columns%3D%7B0%3A'Correlation'%7D)%0A%20%20%20%20print(corr_mtrx.shape)%0A%20%20%20%20mo.vstack(%5B%0A%20%20%20%20%20%20%20%20mo.ui.plotly(%0A%20%20%20%20%20%20%20%20%20%20%20%20px.bar(corr_mtrx%2C%20x%20%3D%20corr_mtrx.index%2C%20y%3Dcorr_mtrx%5B'Correlation'%5D)%20%20%20%20%0A%20%20%20%20%20%20%20%20)%2C%0A%20%20%20%20%20%20%20%20mo.ui.table(corr_mtrx.sort_values(by%3D'Correlation'))%0A%20%20%20%20%5D)%0A%20%20%20%20return%20corr_mtrx%2C%20px%0A%0A%0A%40app.cell%0Adef%20_(corr_target)%3A%0A%20%20%20%20type(corr_target)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(cancer_dataSet%2C%20other_sup_file)%3A%0A%20%20%20%20%22%22%22labling%20GEO%20data%20sets%22%22%22%0A%20%20%20%20stage_df%20%3D%20other_sup_file.copy()%0A%20%20%20%20lable_df%20%3D%20stage_df%5B%5B'barcode'%2C'ajcc_pathologic_stage'%5D%5D%0A%20%20%20%20sample_dict%20%3D%20%7B%7D%0A%20%20%20%20for%20_%2C%20row%20in%20lable_df.iterrows()%3A%0A%20%20%20%20%20%20%20%20sample_dict%5Brow%5B'barcode'%5D%5D%20%3D%20row%5B'ajcc_pathologic_stage'%5D%0A%20%20%20%20def%20label_data(sample)%3A%0A%20%20%20%20%20%20%20%20if%20sample%20in%20sample_dict.keys()%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20sample_dict%5Bsample%5D%0A%20%20%20%20%20%20%20%20else%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20None%0A%20%20%20%20stage_lables_df%20%3D%20cancer_dataSet.copy()%0A%20%20%20%20stage_lables_df%5B'Stage'%5D%20%3D%20stage_lables_df%5Bstage_lables_df.columns%5B0%5D%5D.apply(label_data)%0A%20%20%20%20stage_df.head()%0A%20%20%20%20return%20label_data%2C%20lable_df%2C%20row%2C%20sample_dict%2C%20stage_df%2C%20stage_lables_df%0A%0A%0A%40app.cell%0Adef%20_(stage_lables_df)%3A%0A%20%20%20%20stage_lables_df.dropna(inplace%3DTrue)%0A%20%20%20%20grouped_df%20%3D%20stage_lables_df.groupby(by%3D'Stage').mean(numeric_only%3DTrue)%0A%20%20%20%20grouped_df%0A%20%20%20%20return%20(grouped_df%2C)%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A</marimo-code></head>
  <body>
    <div id="root"></div>
  </body>
</html>
